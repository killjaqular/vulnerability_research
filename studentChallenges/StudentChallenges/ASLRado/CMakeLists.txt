cmake_minimum_required(VERSION 3.10)
set(BINARY ASLRado)
project(${BINARY})

set(CMAKE_CXX_STANDARD 14)

#########################################################
# Notes:
#  Student: Adonay Pichardo
#  Points: 500
#  Flags: 1. flag:notTheFlagKeepLookingNerd!
#########################################################

set(CSEBUILD_FLAGS "-O0 -finline-functions -Wno-attributes -s -static")
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} ${CSEBUILD_FLAGS}")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${CSEBUILD_FLAGS}")

add_executable(${BINARY} main.cpp)
target_link_libraries(${BINARY} ctf ${CMAKE_DL_LIBS})

install(TARGETS ${BINARY} DESTINATION "${RELEASE_DIR}/ASLRado")
install(FILES ${BINARY}-xinetd.conf.in DESTINATION "${RELEASE_DIR}/ASLRado")
#install(FILES ${BINARY}.py DESTINATION "${RELEASE_DIR}/answers/")
install(FILES ${BINARY}-1 DESTINATION "${RELEASE_DIR}/ASLRado")