#include<iostream>

#include <string>
#include <fstream>
#include <streambuf>
#include<ctf.h>


extern "C" {
void getflag(char loginid[], char Stage[]);
}

char encodingvalue = 0x28;


std::string Encode(){
    std::ifstream t("/home/challenges/pword");
    std::string pword((std::istreambuf_iterator<char>(t)),
                    std::istreambuf_iterator<char>());

    pword = pword.substr(0, pword.length()-1);
    std::cout << pword << std::endl;

    std::string encoded = "";

    for(std::string::iterator iter = pword.begin(); iter!=pword.end(); ++iter){
        char enc = *iter ^ encodingvalue;
        encoded += enc;
    }

    return encoded;
}


int main(){
    std::cout << "CSE4830 - SW RE" << std::endl;
    std::cout << "Tie Breaker Challenge 2" << std::endl;

    std::string encodedstr = Encode();
    std::string input;
    std::cin >> input;

    if(input.compare(encodedstr) == 0){
        getflag("tiebreaker2","2");
    }


    return 0;
}